# PEAviz
_Python Evolutionary Algorithm Visualistaion toolkit on DEAP_

[![Requirements Status](https://requires.io/github/arrow-/PEAviz/requirements.svg?branch=master)](https://requires.io/github/arrow-/PEAviz/requirements/?branch=master)

PEAviz bridges [DEAP](https://www.github.com/deap/deap) with graph analysis tools like [graph-tool](http://graph-tool.skewed.de/). The aim of PEAviz is to enable tracking of evolutionary dynamics and present a network of individuals that encodes _all that you want_.

Evolutionary dynamics are not very well understood yet, and the network generated by PEAviz can provide not just experimental data but analysis might uncover previously unknown facts and patterns. The analysis might also provide proof for known hypothesis on GA behaviours!

Alas, as of mid 2017, there is no universally accepted way of tranforming dynamics into a network, and the default transformation (which is called _Encoding Strategy_) implemented in PEAviz, is not necessarily the best one.

# Default Encoding Strategy

For each individual added into the population,

1. A node is created.
    - two or more nodes can encode the same individual (genetic material) because the same individual can be _added into the population_ at different iterations, possibly with different parents.
    - Thus, nodes are NOT UNIQUE.
2. Edges are added from parents to _this_ node.
    - The network might have parallel edges, as the selection process of a GA might allow the same individual to be picked twice, as a parent!

To find out more about the approach refer
>Davendra, Donald, et al. "Complex network analysis of differential evolution algorithm applied to flowshop with no-wait problem." Differential Evolution (SDE), 2014 IEEE Symposium on. IEEE, 2014.

on [IEEE Xplore](http://ieeexplore.ieee.org/abstract/document/6900441/)

_The paper above uses this strategy to study a Self Organising Migrating Algorithm, but the strategy can be used to study other EAs too._

# Architecture

PEAviz is composed of 3 elements, **Adapter**, **Tracker** and **Encoding strategy**.

Adapter
:   Interface that implements all actions required to create the `Graph` representation and maintain it. This could be,
 a graph-tool `Graph` or,
 a neo4j DB connection or,
 a [Gephi](https://www.gephi.org) [GraphStream](https://github.com/gephi/gephi/wiki/GraphStreaming) Object.

Encoding Strategy
:   This details what an individual is, its attributes and when or how edges are created, whether they are directed or undirected, etc.

Tracker
:   Your GA creates an instance of this and connects it to the desired Adapter(s). Tracker uses the Encoding Strategy to invoke Adapter methods and create the desired evolutionary network.

![architecture][arch]

>Trackers and Encoding Strategy are highly coupled, ie, a new Tracker is required for a new Encoding Strategy.

## Elements

1. Adapters
    - `graph-tool` :100:
    - Neo4j :soon:
    - GraphStream :soon:
2. Trackers
    - `Base` tracker for the default strategy. :100:
3. Encoding Strategies
    - Default Strategy :100:

>:100: denotes completed.<br>
>:soon: denotes future goals.

# Usage

* Implement your GA in DEAP
* Use `peaviz` elements to track the dynamics.
    - Decide **Encoding Strategy**, _or use the default._
    - Implement a *Tracker Interface* for your Encoding Strategy.
    - Use an Adapter, _or implement your own._
* Execute GA, upon completion PEAviz provides a network.
* Export the network to desired analysis tool _(we use `graph-tool`)_.
* Analyse.

# Why DEAP

DEAP is a very flexible framework to run evoultionary algorithms. We can fine tune all aspects of the `evolution` and `individuals`.

# Why [`graph-tool`](https://graph-tool.skewed.de/)

GT is an excellent python package which allows scripted analysis [Graph filtering](https://graph-tool.skewed.de/static/doc/quickstart.html#graph-filtering) and [GraphViews](https://graph-tool.skewed.de/static/doc/quickstart.html#graph-views) that are ideal for manipulating and visualising graph objects.

# Installation

_PEAviz has not yet been pacakged, see #5_

1. Install the python requirements:
    - `pip install -r requirements.txt`
2. Optionally install `graph-tool`. [Instructions](https://git.skewed.de/count0/graph-tool/wikis/installation-instructions)

# Results
**Testing `onemax.py`**

Force Atlas Layout: [Animated `gif` (2.5MB)][onemax-gif-raw]

A different layout of the same graph:
![img-onemax-gephi-sfdp][graphviz-gif]

A _different_ graph:
![knapsack-filtered-graph][filtered_graph]

_This work is part of our Undergraduate Degree Course Work._

[onemax-gif]: docs/images/onemax.gif "Animated gif of OneMax GA"
[onemax-gif-raw]: https://raw.githubusercontent.com/arrow-/PEAviz/master/docs/images/onemax.gif
[graphviz-gif]: docs/images/graphviz-sfdp.png "Animated gif of OneMax GA"

[filtered_graph]: docs/images/g_filt.png "Filtered graph of Knapsack GA"
[arch]: docs/images/PEAviz_arch.png "PEAviz Architecture"
